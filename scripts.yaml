wmata_gr_no:
  sequence:
  - service: media_player.turn_on
    entity_id: media_player.living_room_home
  - service: tts.google_say
    data_template:
      cache: false
      entity_id: media_player.living_room_home
      message: the next metro train heading north from u street is in {{ states('sensor.wmata_md')
        }} minutes
wmata_gr_so:
  sequence:
  - service: media_player.turn_on
    entity_id: media_player.living_room_home
  - service: tts.google_say
    data_template:
      cache: false
      entity_id: media_player.living_room_home
      message: the next metro train heading south from u street is in {{ states('sensor.wmata_dc')
        }} minutes

chromecast:
  sequence:
  - service: switch.turn_on
    entity_id: switch.tv_power
  - service: switch.turn_on
    entity_id: switch.neo
  - delay: 00:00:10
  - service: notify.pushbullet
    data:
      message: Switching to Chromecast
  - service: remote.send_command
    data:
      entity_id: remote.broadlink
      device: television
      command: hdmi4
roku:
  sequence:
  - service: switch.turn_on
    entity_id: switch.tv_power
  - service: switch.turn_on
    entity_id: switch.neo
  - delay: 00:00:10
  - service: notify.pushbullet
    data:
      message: Switching to Roku
  - service: remote.send_command
    data:
      entity_id: remote.broadlink
      device: television
      command: hdmi3
plex:
  sequence:
  - service: switch.turn_on
    entity_id: switch.tv_power
  - service: switch.turn_on
    entity_id: switch.neo
  - delay: 00:00:10
  - service: notify.pushbullet
    data:
      message: Switching to Plex on Roku
  - service: media_player.select_source
    entity_id: media_player.roku_streaming_stick
    data:
      source: 'Plex - Stream Free TV & Movies'
  - service: remote.send_command
    data:
      entity_id: remote.broadlink
      device: television
      command: hdmi3
cable:
  sequence:
  - service: switch.turn_on
    entity_id: switch.tv_power
  - service: switch.turn_on
    entity_id: switch.cable_power
  - delay: 00:00:10
  - service: notify.pushbullet
    data:
      message: Switching to Cable
  - service: remote.send_command
    data:
      entity_id: remote.broadlink
      device: television
      command: cm2

arm_away:
  alias: Arm Away
  sequence:
  - service: alarm_control_panel.alarm_arm_away
    data:
      entity_id: alarm_control_panel.10th_street
arm_home:
  alias: Arm Home
  sequence:
  - data:
      entity_id: alarm_control_panel.10th_street
    service: alarm_control_panel.alarm_arm_home

remote_command:
  alias: Remote Command
  sequence:
    service: 'remote.send_command'
    data_template:
      entity_id: '{{ trigger.event.data.entity_id|lower }}'
      device: '{{ trigger.event.data.device|lower }}'
      command: >
        '{% set source = trigger.event.data.command|lower %} {% if source ==
        "cable" %}cm2 {% elif source == "roku" %}hdmi3 {% elif source == "chromecast"
        %}hdmi4 {% elif source == "switch" %}hdmi1 {% elif source == "xbox" %}hdmi2
        {% endif %}'