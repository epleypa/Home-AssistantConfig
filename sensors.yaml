- platform: darksky
  api_key: !secret darksky_api
  monitored_conditions:
    - summary
    - icon
    - nearest_storm_distance
    - nearest_storm_bearing
    - precip_type
    - precip_intensity
    - precip_probability
    - temperature
    - apparent_temperature
    - dew_point
    - wind_speed
    - wind_bearing
    - cloud_cover
    - humidity
    - pressure
    - visibility
    - ozone
    - minutely_summary
    - hourly_summary
    - daily_summary
    - temperature_max
    - temperature_min
    - apparent_temperature_max
    - apparent_temperature_min
    - precip_intensity_max

- platform: speedtest
  monitored_conditions:
    - ping
    - download
    - upload

- platform: broadlink
  host: 192.168.1.42
  mac: 'B4:43:0D:FB:DD:62'
  monitored_conditions:
    - temperature

- platform: systemmonitor
  resources:
    - type: last_boot
    - type: since_last_boot
    - type: memory_use_percent
    - type: processor_use

- platform: rest
  name: 'WMATA_DC'
  resource: https://api.wmata.com/StationPrediction.svc/json/GetPrediction/A08
  method: GET
  headers:
    api_key: !secret wmata_api
  value_template: '
    {% set trains = value_json.Trains %}
    {% for train in trains if train.DestinationCode == "B08" or train.DestinationCode == "B11" %}
        {% if loop.first %}{{ train.Min }},
        {% elif loop.last %} and {{ train.Min }} minutes
        {% else %} {{ train.Min }},
        {% endif %}
    {% endfor %}'
#  scan_interval: 300

- platform: rest
  name: 'WMATA_MD'
  resource: https://api.wmata.com/StationPrediction.svc/json/GetPrediction/A08
  method: GET
  headers:
    api_key: !secret wmata_api
  value_template: '
    {% set trains = value_json.Trains %}
    {% for train in trains if train.DestinationCode == "A15" or train.DestinationCode == "A11" %}
        {% if loop.first %}{{ train.Min }},
        {% elif loop.last %} and {{ train.Min }} minutes
        {% else %} {{ train.Min }},
        {% endif %}
    {% endfor %}'
#  scan_interval: 300